if("undefined"==typeof nRelate)var nRelate=window.nRelate={domain:"",clicked_link:null,load_link:!1,track_enabled:[!1,!1,!1],domready:!1,domready_bound:!1,domready_list:[],flyout_show:!1,ie_browser:"Microsoft Internet Explorer"==navigator.appName,loadFrame:function(){nRelate.load_link&&(nRelate.load_link=!1,window.location.href=nRelate.clicked_link)},tracking:function(b){if("undefined"==typeof jQuery)setTimeout(arguments.callee,0);else{var a=nRelate;!("rc"==b&&a.track_enabled[0])&&!("mp"==b&&a.track_enabled[1])&&
!("fo"==b&&a.track_enabled[2])&&("rc"==b?a.track_enabled[0]=!0:"mp"==b?a.track_enabled[1]=!0:a.track_enabled[2]=!0,jQuery(".nr_"+b+"_link").live("click",function(c){if(jQuery(this).hasClass("nr_partner"))return!0;var d=window.location.href,e="http://t.nrelate.com/tracking/";nr_type=jQuery(this).hasClass("nr_avid")?"avid":jQuery(this).hasClass("nr_external")?"external":"internal";e+="?plugin="+escape(b)+"&type="+escape(nr_type)+"&domain="+a.domain+"&src_url="+escape(d)+"&dest_url="+escape(jQuery(this).attr("href"));
"avid"!=nr_type&&(a.load_link=!0,a.clicked_link=jQuery(this).attr("href"));on_load_function=c.ctrlKey?"void(0)":"nRelate.loadFrame()";jQuery('<iframe id="nr_clickthrough_frame_'+Math.ceil(100*Math.random())+'" height="0" width="0" style="border-width: 0px; display:none;" src="'+e+'" onload="javascript:'+on_load_function+'"></iframe>').appendTo("body");return c.ctrlKey?!0:!1}))}},fixHeight:function(b){if("undefined"==typeof jQuery){var a=arguments.callee;setTimeout(function(){a(b)},0)}else{var c="#"+
b+" a";if(0!=jQuery(c+":first").length){var d=0,e=0,g=[],f,j=0,l=0,j=0,e=jQuery(c+":first").position().top;jQuery(c).each(function(){f=jQuery(this);f.append('<div class="nr_clear" style="height:1px;"></div>');topPostion=f.position().top;if(e!=topPostion){for(currentDiv=0;currentDiv<g.length;currentDiv++)g[currentDiv].height(d);g.length=0;e=topPostion;d=f.innerHeight();g.push(f)}else g.push(f),d=d<f.innerHeight()?f.innerHeight():d;for(currentDiv=0;currentDiv<g.length;currentDiv++)g[currentDiv].height(d)});
for(var j=jQuery(c+":first").position().top,c=jQuery(c),h=0;h<c.length&&jQuery(c[h]).position().top==j;h++)l++;for(var j=Math.ceil(c.length/l),k=1,i=1,o,p,m,q,n,r,h=0;h<c.length;h++)f=jQuery(c[h]),o=0==k%2?" nr_even_row":" nr_odd_row",p=0==i%2?" nr_even_col":" nr_odd_col",m=1==i?" nr_first_col":"",q=i==l&&""==m?" nr_last_col":"",n=1==k?" nr_first_row":"",r=k==j&&""==n?" nr_last_row":"",f.addClass("nr_row_"+k+" nr_col_"+i+o+p+m+q+n+r),i++,i>l&&(i=1,k++);jQuery("#"+b+".nrelate_pol").addClass("rotate")}}},
adAnimation:function(b){if("undefined"==typeof jQuery){var a=arguments.callee;setTimeout(function(){a(b)},0)}else jQuery("#"+b+" .nr_panel .nr_sponsored").hover(function(){jQuery(this).stop();jQuery(this).animate({left:"0px"},200)},function(){jQuery(this).stop();jQuery(this).animate({left:jQuery(this).parent().width()-18+"px"},200)})},getScript:function(b,a){var c=document.createElement("script");c.type="text/javascript";c.src=b;a&&(c.async=!0);document.getElementsByTagName("head")[0].appendChild(c)},
bindDomReady:function(b){var a=nRelate;if(a.domready)b();else if(a.domready_list.push(b),!a.domready_bound)if(a.domready_bound=!0,document.addEventListener)document.addEventListener("DOMContentLoaded",a.domReadyReached,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a.readyStateChange);b=!1;try{b=null==window.frameElement}catch(c){}document.documentElement.doScroll&&b&&a.scrollCheck()}},readyStateChange:function(){var b=document,a=arguments.callee;"complete"===b.readyState&&
(b.detachEvent("onreadystatechange",a),nRelate.domReadyReached())},scrollCheck:function(){var b=nRelate;if(!b.domready)try{document.documentElement.doScroll("left")}catch(a){setTimeout(b.scrollCheck,0);return}b.domReadyReached()},domReadyReached:function(){var b=nRelate;if(!b.domready){b.domready=!0;document.addEventListener&&document.removeEventListener("DOMContentLoaded",b.domReadyReached,!1);for(var a=0;a<b.domready_list.length;a++)b.domready_list[a]();b.domready_list=[]}},getNrelatePosts:function(b){var a=
nRelate;a.ie_browser&&!a.domready?a.bindDomReady(function(){a.getNrelatePosts(b)}):a.ie_browser?a.getScript(b,!0):a.jsIframe(b,"nRelate=window.parent.nRelate;")},sw:function(b,a){var c=nRelate,d="";a.match("popular")&&(d="mp");a.match("related")&&(d="rc");a.match("flyout")&&(d="fo");document.getElementById(a)&&(document.getElementById(a).innerHTML=b,c.fixHeight(a),c.adAnimation(a),c.tracking(d))},jsIframe:function(b,a){var c=document;nrDiv=c.createElement("div");nrDiv.style.display="none";ifr=c.createElement("iframe");
ifr.frameBorder="0";ifr.allowTransparency="true";nrDiv.appendChild(ifr);c.body.appendChild(nrDiv);domainSrc="javascript:var d=document.open(); d.domain='"+c.domain+"';";try{ifr.contentWindow.document.open()}catch(d){iframe.src=domainSrc+"void(0);"}a="string"==typeof a?a:"";b=b.replace(/\'/g,"\\'");iframe_html='<body onload="d=document; '+a+"d.getElementsByTagName('head')[0].appendChild(d.createElement('script')).src='"+b+"';\"></body>";try{var e=ifr.contentWindow.document;e.write(iframe_html);e.close()}catch(g){ifr.src=
domainSrc+'d.write("'+iframe_html.replace(/"/g,'\\"')+'");d.close();'}},flyout_fix_height:function(){jQuery(".nrelate_flyout").css({right:"0px",display:"none"})}};