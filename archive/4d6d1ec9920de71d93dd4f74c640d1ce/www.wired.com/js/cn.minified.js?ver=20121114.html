jQuery.noConflict();if(typeof Object.make!=="function"){Object.make=function(a){return function(b){a.prototype=b;return new a();};}(function(){});}Function.prototype.memoize=function(){var a={},c=this,d=arguments.length>0?arguments[i]:null,b;b=function(){var f=[],g,e;for(g=0,e=arguments.length;g<e;g++){f[g]=arguments[g];}if(!(f in a)){a[f]=c.apply(d,arguments);}return a[f];};b.unmemoize=function(){return c;};return b;};Function.prototype.unmemoize=function(){CN.debug.info("Attempted to unmemoize a function that was never memoized in the first place");
return null;};if(!Array.prototype.forEach){Array.prototype.forEach=function(d,e){if(!this.splice){return;}var c,b,a;c=e||window;for(b=0,a=this.length;b<a;++b){d.call(c,this[b],b,this);}};Array.prototype.every=function(d,e){if(!this.splice){return;}var c,b,a;c=e||window;for(b=0,a=this.length;b<a;++b){if(!d.call(c,this[b],b,this)){return false;}}return true;};Array.prototype.some=function(d,e){if(!this.splice){return;}var c,b,a;c=e||window;for(b=0,a=this.length;b<a;++b){if(d.call(c,this[b],b,this)){return true;
}}return false;};Array.prototype.map=function(f,g){if(!this.splice){return;}var e,b,d,c;e=g||window;b=[];for(d=0,c=this.length;d<c;++d){b.push(f.call(e,this[d],d,this));}return b;};Array.prototype.filter=function(f,g){if(!this.splice){return;}var e,b,d,c;e=g||window;b=[];for(d=0,c=this.length;d<c;++d){if(!f.call(e,this[d],d,this)){continue;}b.push(this[d]);}return b;};Array.prototype.indexOf=function(c,d){if(!this.splice){return;}var b,a;d=d||0;for(b=d,a=this.length;b<a;++b){if(this[b]===c){return b;
}}return -1;};Array.prototype.lastIndexOf=function(b,c){if(!this.splice){return;}var a;c=c||this.length;if(c>=this.length){c=this.length;}if(c<0){c=this.length+c;}for(a=c;a>=0;--a){if(this[a]===b){return a;}}return -1;};}if(!Array.prototype.remove){Array.prototype.remove=function(b,a){if(!this.splice){return;}this.splice(b,(a||b||1)+(b<0?this.length:0));return this.length;};}if(typeof CN==="undefined"||!CN){var CN={};}CN.isBoolean=function(a){return typeof a==="boolean";};CN.isDate=function(a){return Object.prototype.toString.call(a)==="[object Date]";
};CN.isEmpty=function(a){return !/\S/.test(a||"");};CN.isNull=function(a){return a===null;};CN.isNumber=function(a){return typeof a==="number"&&isFinite(a);};CN.isObject=function(a){return typeof a==="object";};CN.isString=function(a){return typeof a==="string";};CN.isUndefined=function(a){return typeof a==="undefined";};CN.url=(function(){var a=[];return{domain:function(c){var e=((c)?c.replace(/^https*:\/\/|(:|\/).*$/g,""):location.hostname).split("."),b=e.length;return e.slice(b-2,b).join(".");
},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0];},isSecure:function(){return location.protocol==="https:";},params:function(e,d,c){var b=CN.utils.parseStr((d||location.search),(c||"query"));return(e)?b[e]||"":b;},path:function(){if(a.length===0){a=location.pathname.match(/([^\/]+)/g)||[""];}return a;},getFragment:function(){return location.hash.substring(1)||false;},setFragment:function(b){location.hash=b||"";return this;}};})();CN.utils=(function(){var a={},b={query:/([^?=&]+)(=([^&]*))?/g,hash:/([^#=&]+)(=([^&]*))?/g,usercookie:/([^=|]+)(=([^|]*))?/g},c=function(j,g,h,e){j=String(j||"");
h=String(h||" ");var f=j.length,d=h.length;if(f>=g){return j;}while(f<g){j=(e==="left")?h+j:j+h;f+=d;}return j;};return{parseStr:function(e,d){if(a[e+"_"+d]){return a[e+"_"+d];}a[e+"_"+d]={};(e||"").replace(b[d],function(g,f,j,h){a[e+"_"+d][f]=h;});return a[e+"_"+d];},intval:function(d,e){if(typeof d==="boolean"){return(d)?1:0;}else{if(typeof d==="string"){d=parseInt(d*1,(e||10));return(isNaN(d)||!isFinite(d))?0:d;}else{if(typeof d==="number"&&isFinite(d)){return Math.floor(d);}}}return 0;},trim:function(e){var f=-1,d=e.length;
while(e.charCodeAt(--d)<33){}while(++f<d&&e.charCodeAt(f)<33){}return e.slice(f,d+1);},transliterate:function(e,d){if(typeof e=="undefined"){return"";}if(typeof d=="undefined"){d=true;}e=escape(e).replace(/%C[0-5]/g,"A").replace(/%C6/g,"AE").replace(/%C7/g,"C").replace(/%C[8-9|A-B]/g,"E").replace(/%C[C-F]/g,"I").replace(/%D[2-8]/g,"O").replace(/%D[9|A-C]/g,"U").replace(/%DD/g,"Y").replace(/%u0178/g,"Y").replace(/%u017D/g,"Z").replace(/%u0160/g,"S").replace(/%E[0-5]/g,"a").replace(/%E6/g,"ae").replace(/%E7/g,"c").replace(/%E[8-9|A-B]/g,"e").replace(/%E[C-F]/g,"i").replace(/%F[2-8]/g,"o").replace(/%F[9|A-C]/g,"u").replace(/%F[D-F]/g,"y").replace(/%u017E/g,"z").replace(/%u0161/g,"s").replace(/%u2014/g,"-").replace(/%u2013/g,"-").replace(/%u201[8-9]/g,"'").replace(/%u201A/g,",").replace(/%u2026/g,"...").replace(/%u201[C-D]/g,'"').replace(/%3F/g,"?").replace(/%21/g,"!").replace(/%26/g,"&").replace(/%25/g,"%").replace(/%24/g,"$").replace(/%5E/g,"^").replace(/%28/g,"(").replace(/%29/g,")").replace(/%7E/g,"~").replace(/%60/g,"`").replace(/%23/g,"#").replace(/%3D/g,"=").replace(/%2C/g,",").replace(/%3C/g,"<").replace(/%2E/g,">").replace(/%7C/g,"|").replace(/%3A/g,":").replace(/%3B/g,";").replace(/%7D/g,"}").replace(/%7B/g,"{").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%20/g," ");
if(d){e=e.replace(/%u[0-9|A-F][0-9|A-F][0-9|A-F][0-9|A-F]/g,"").replace(/%u[0-9|A-F][0-9|A-F]/g,"").replace(/%[0-9|A-F][0-9|A-F]/g,"");}else{e=unescape(e);}return e;},padLeft:function(f,d,e){return c(f,d,e,"left");},padRight:function(f,d,e){return c(f,d,e,"right");},uriencdec:function(e,d){return(d)?encodeURIComponent(e):decodeURIComponent(e);},mapPropertyArray:function(d,e,f){e=e||"name";f=f||"value";var g={};if(jQuery.isArray(d)){jQuery.each(d,function(h){g[d[h][e]]=d[h][f];});}else{g[d[e]]=d[f];
}return g;}};})();CN.debug=(function(){var b={error:{f:"error",msg:"ERROR"},warn:{f:"warn",msg:"WARNING"},info:{f:"info",msg:"INFO"},user:{f:"error",msg:"USER"}},d={DEV:"Development",STAG:"Staging",PREV:"Preview",PROD:"Production"},c=function(){return;},a=function(j,l,f){var h=b[j]||b.debug;if(CN.site.env==="PROD"&&!CN.site.debug){return;}l=l||"NO MSG";f=f||[];if(typeof console==="object"){var k=console[h.f]||console.info;f.unshift(h.msg,l);for(var g=0;g<f.length-1;g+=2){var e=f.splice(0,g+1);e.push(" :: ");
f=e.concat(f);}if(console.firebug){k.apply(this,f);}else{if(typeof console[h.f]==="function"){console[h.f](f);}}}};if(CN.url.params("debugOff")==="true"){a=c;}return{error:function(f,e){a("error",f,e);return this;},warn:function(f,e){a("warn",f,e);return this;},info:function(f,e){a("info",f,e);return this;},user:function(g,f){a("user",g.message,[f,g.fileName,g.lineNumber,g.name,g.stack]);return this;},speedtest:function(j,g,k){var e,h;if(CN.isNumber(g)){k=g;g=[];}if(!jQuery.isArray(g)){g=[];}k=k||10000;
if(!jQuery.isFunction(j)){CN.debug.error("Not a function",[j]);return this;}if(typeof console==="object"){if(console.time){e="timer"+Math.floor(Math.random()*1000000);console.time(e);for(h=0;h<k;h++){j.apply(this,g);}console.timeEnd(e);}else{e=new Date()-0;for(h=0;h<k;h++){j.apply(this,g);}e=new Date()-e;console.log(e);}}else{e=new Date()-0;for(h=0;h<k;h++){j.apply(this,g);}e=new Date()-e;alert(e);}return this;},app:function(){var e={},f=function(h,j,g){if(e[CN.site.env][h]){a(h,j,g);}};return{setLevel:function(h,g){if(!h||!jQuery.isArray(h)||h.length===0){return this;
}g=(g&&g in d)?g:"DEV";e[g]=h;return this;},getLevel:function(g){return(g)?e[g]||"":e;},error:function(h,g){f("error",h,g);return this;},warn:function(h,g){f("warn",h,g);return this;},info:function(h,g){f("info",h,g);return this;},user:function(h,g){f("user",h.message,[g,h.fileName,h.lineNumber,h.name,h.stack]);return this;}};}};})();if(CN.url.params("debugOff")!=="true"){window.onerror=function(c,b,a){CN.debug.error(c,[b,a]);return(CN.site.env==="PROD")?true:false;};}CN.site=(function(){return{code:"",title:"",name:"",alias:"",env:"",cnd:false,debug:!!CN.url.params("magdebug")&&!this.cnd,noads:!!CN.url.params("magnoads")&&!this.cnd,testads:CN.url.params("dartAdOverride")&&!this.cnd,init:function(b){b=b||{};
for(var a in b){if(b.hasOwnProperty(a)){this[a]=b[a];}}this[this.name]={};this.domain=CN.url.domain();try{if(this.domain){document.domain=this.domain;}CN.debug.info("Document domain was set",[this.domain]);}catch(c){CN.debug.error(c);}CN.debug.info("CN Started",[this.code,this.title,this.env,this.name,this.alias,this.cnd,this.debug,this.noads]);return this;}};})();CN.callwhen={add:function(c,b,a){if(!c||!b||!b.func){return;}a=a||{},c=(c==="after"?"callback":"callbefore"),b={func:b.func,params:b.params||[],scope:b.scope||window};
if(jQuery.isFunction(b.func)&&CN.isString(c)){a[c]=a[c]||[],a[c].push(b);}return a;},run:function(c,g,f){if(!CN.isObject(c)){return;}if(CN.isString(g)){f=g,g=window;}var e,b;if((f==="before"||!f)&&jQuery.isArray(c.callbefore)){for(var d=0,a=c.callbefore.length;d<a;d++){if(CN.isObject(c.callbefore[d])){b=c.callbefore[d],e=b.scope||window;if(jQuery.isFunction(b.func)){b.func.call(e,b.params||{});}}}}if((f==="after"||!f)&&jQuery.isArray(c.callback)){for(var d=0,a=c.callback.length;d<a;d++){if(CN.isObject(c.callback[d])){g=g||window,b=c.callback[d],e=b.scope||window;
if(jQuery.isFunction(b.func)){g.bind(b.event||"load",function(){b.func.apply(e,b.params||[]);});}}}}}};CN.config=(function(){var a,c,b;a=function(d){return CN.page.config?CN.page.config[d]:"";};c=function(d){CN.page.config=CN.page.config||{};var e;for(e in d){if(d.hasOwnProperty(e)){CN.page.config[e]=d[e];}}return this;};b=function(){var d=CN.page.config?CN.page.config:{},e;for(e in d){if(d.hasOwnProperty(e)){CN.debug.info("CONFIG LIST: "+e+" : "+d[e]);}}};return{get:a,set:c,listProperties:b};})();
CN.cookie=(function(){var a={};return{get:function(d){if(a[d]){return a[d];}var f=document.cookie.split("; "),e=[],g=0,b=f.length;for(;g<b;g++){e=f[g].split("=");a[e[0]]=decodeURIComponent(e.slice(1).join("="));if(e[0]===d){return a[e[0]];}}this.delCache(d);return"";},del:function(c,b){b=b||{};b.expires=-1;return this.set(c,"",b);},set:function(c,e,b){this.delCache(c);b=b||{};e=e||"";b.expires=CN.isDate(b.expires)?b.expires.toUTCString():CN.isNumber(b.expires)?(new Date(+(new Date)+b.expires*60*60*1000)).toUTCString():"";
var d=[c+"="+encodeURIComponent(e)];if(b.expires){d.push("expires="+b.expires);}if(b.path){d.push("path="+b.path);}if(b.domain){d.push("domain="+b.domain);}if(b.secure){d.push("secure");}return document.cookie=d.join("; "),a[c]=e,true;},delCache:function(b){delete a[b];return this;}};})();CN.date=(function(){var a={en:{_long:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",")},es:{_long:"enero,febraro,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,deciembre".split(",")}},d={en:{_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},es:{_long:"el domingo,el lines,el martes,el mi&eacute;rcoles,el jueves,el viernes,el s&aacute;bado".split(",")}},c=function(f,e){f=f.toString();
var h=e-f.length,g;for(g=0;g<h;g++){f="0"+f.slice(0,f.length);}return f;},b={G:function(){return"AD";},y:function(f,e){var g=f.getFullYear().toString();g=(e===2)?g.substring(g.length-2,g.length):c(g,e);return g;},M:function(h,g){var e=h.getMonth(),f={};if(g<3){e=c(e+1,g);}else{f.form=g===3?"short":"long";e=CN.date.getMonthName(e,f);}return e;},w:function(h,f){var g=new Date(h.getFullYear(),0,1),e;e=Math.ceil((((h-g)/86400000)+g.getDay()+1)/7);e=c(e,f);return e;},D:function(h,f){var g=new Date(h.getFullYear(),0,1),e;
e=Math.ceil(((h-g)/86400000)+g.getDay()+1);e=c(e,f);return e;},d:function(f,e){return c(f.getDate(),e);},E:function(g,f){var e={};e.form=f>3?"long":"short";return CN.date.getDayName(g.getDay(),e);},a:function(f,e){return f.getHours()<12?"AM":"PM";},H:function(f,e){return c(f.getHours(),e);},k:function(f,e){return c(f.getHours()+1,e);},K:function(g,f){var e=g.getHours();return c(e-12>=0?e-12:e,f);},h:function(g,f){var e=g.getHours();return c((e-13>=0?e-12:e),f);},m:function(f,e){return c(f.getMinutes(),e);
},s:function(f,e){return c(f.getSeconds(),e);},S:function(f,e){return c(f.getMilliseconds(),e);}};return{isLeapYear:function(e){return !!(e&&(e%4===0)&&(e%100!==0||e%400===0));},getDaysInMonth:function(f,e){return(f===1&&this.isLeapYear(e))?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]||0;},getMonthName:function(f,e){e=e||{};return CN.date.getMonthNames(e)[f]||"";},getMonthNames:function(e){e=e||{};return a[e.lang||"en"]["_"+(e.form||"long")]||[];},getDayName:function(e,f){f=f||{};return CN.date.getDayNames(f)[((e===7)?0:e)]||"";
},getDayNames:function(e){e=e||{};return d[e.lang||"en"]["_"+(e.form||"long")]||[];},format:function(l,m){if(!CN.isDate(l)){CN.debug.warn("date.format() method requires a JavaScript date object to be passed");return l;}var n="",e=function(p){n+=p;},g,o,k="",j=1,f,h;if(CN.isString(m)){m=m.split("");for(g=0,o=m.length;g<o;g++){k=m[g];if(b[k]){while(m[g+j]===m[g]){j+=1;}e(b[k](l,j));}else{if(m[g]==="'"){if(m[g+1]!=="'"){f=m.slice(g+1,m.length);h=f.slice(0,f.indexOf("'"));e(h.join(""));j+=(h.length+1);
}else{e("'");j+=1;}}else{e(m.slice(g,g+1).join(""));}}g+=(j-1);k="";j=1;}}else{n=l.toString();}return n;},isoToDate:function(e){var g=/([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?/,j=0,f=e.match(g),h=new Date(f[1],0,1);if(f[3]){h.setMonth(f[3]-1);}if(f[5]){h.setDate(f[5]);}if(f[7]){h.setHours(f[7]);}if(f[8]){h.setMinutes(f[8]);}if(f[10]){h.setSeconds(f[10]);}if(f[12]){h.setMilliseconds(Number("0."+f[12])*1000);}if(f[14]){j=(Number(f[16])*60)+Number(f[17]);
j=j*((f[15]=="-")?1:-1);}j=j-h.getTimezoneOffset();h.setTime(Number(Number(h)+(j*60*1000)));return h;},convertIwDateToIso:function(f){var e="";if(CN.isString(f)){e=f.substr(0,4)+"-"+f.substr(4,2)+"-"+f.substr(6,2)+"T"+f.substr(9,8)+"-05:00";}return e||"";}};})();CN.frame=(function(b){var a=function(d){var f=(d.data&&d.data.use)?d.data.use:this,c;try{if(f.contentWindow){c=f.contentWindow.document.getElementsByTagName("body")[0];}else{if(f.contentDocument){c=f.contentDocument.document.getElementsByTagName("body")[0];
}}}catch(d){return CN.debug.user(d,[f,f.id]);}if(typeof d.data==="undefined"){b("iframe",c).bind("load",{use:f},a);}if(!b(".textAd",c).length||!b("#adHolder a",c).eq(0).text()){b("#adHolder",c).css({"font-size":0,"line-height":0});}b(f).css({border:"none",margin:0,height:b(c).css({overflow:"hidden",margin:0,border:0}).outerHeight()});};return{bindResize:function(c){b(c).bind("load",a);return this;},refresh:function(f,e,d,c){f=(CN.isString(f))?f.split(/,|\s+/):(b.isArray(f))?f:[];if(!f.length){return this;
}if(CN.isObject(d)){c=d,d=true;}if(CN.isObject(e)){c=e,e="";}if(CN.isBoolean(e)){d=e;e="";}d=(d==null)?true:d;b.each(f,function(h,g){if(!/\S/.test(g)){return true;}var k=b(g);if(!k.length){return true;}if(d){k.bind("load",a);}CN.callwhen.run(c,k);e=e||k[0].src;try{k[0].contentWindow.location.replace(e);CN.debug.info("CN Frame Refresh",[g,e,d]);}catch(j){CN.debug.user(j,[g,e,d]);}});return this;},resize:function(c){b(c).bind("load",a).triggerHandler("load");return this;}};})(jQuery);CN.internal=(function(){return{getTeamsiteServer:function(){return"deprecated";
}};})();CN.media=(function(b){var c,a;c=function(d){swfobject.embedSWF.apply(window,d);};a=function(d){setTimeout(function(){c(d);},200);};return{swf:function(d){if(typeof swfobject==="undefined"){CN.debug.info("Dynamically loading swfobject.js - consider placing the script call in the site JSP if load time/FOUC is an issue.");b.getScript("/js/cn-fe-common/misc/swfobject.js",function(){a(d);});}else{CN.debug.info("swfobject.js already loaded or being loaded on page, using it to render mediaItem");
c(d);}}};})(jQuery);CN.modules=(function(){CN.customEvents=CN.customEvents||{};CN.customEvents.moduleLoaded={};var b,a=[];b=function(c){CN.modules.loaded.push(c);jQuery(window).trigger("CN.customEvents.moduleLoaded."+c);};return{register:b,loaded:a};})();CN.page=(function(){return{config:{},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0];},subsection:function(){return((location.pathname.split("/")[2]||"").match(/^[^\.|(\d{4})]*$/)||[""])[0];},slug:function(){return((location.pathname.split("/")[location.pathname.split("/").length-1]||"").match(/^[^\.]*$/)||[""])[0];
}};})();CN.reg=(function(d){var c={},a="rqrd";function b(){c.bind("submit",function(){var e=d("#bdayfield",this);if(e.length&&d("#birthYear",this).val()!="YYYY"){e.val([d("#birthMonth",this).val(),d("#birthDay",this).val(),d("#birthYear",this).val()].join("/"));}});}return{setForm:function(e){c=d(e);b();return this;},getForm:function(){return c;},setBirthday:function(){var f=d("#bdayfield",c);if(f.length){var e=f.val().split("/");d("#birthMonth",c).val(e[0]);d("#birthDay",c).val(e[1]);d("#birthYear",c).val(e[2]);
}},setReq:function(e){d(e).parents(".row").addClass(a);},removeReq:function(e){d(e).parents(".row").removeClass(a);},getReqClass:function(){return a;}};})(jQuery);CN.search=(function(){var a={alphanum:/[^0-9a-zA-Z\s]/g,script:/<script(.|\s)*?\/script>/g};return{path:function(b){return this.sanitize(b).replace(/\s+/g,"-");},sanitize:function(b){return CN.utils.trim(b||"").replace(a.script,"").replace(a.alphanum,"");}};})();CN.user=(function(){return{isLoggedIn:function(){return CN.cookie.get("amg_user_record")&&CN.cookie.get("amg_user");
},isConfirmed:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").conf==="true";},username:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").username||"";},userid:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").uid||0;}};})();CN.world=(function(c){var a={msg:"Select your",us:{desc:"state",code:"AL,AK,AZ,AR,CA,CO,CT,DE,DC,FL,GA,HI,ID,IL,IN,IA,KS,KY,LA,ME,MD,MA,MI,MN,MS,MO,MT,NE,NV,NH,NJ,NM,NY,NC,ND,OH,OK,OR,PA,RI,SC,SD,TN,TX,UT,VT,VA,WA,WV,WI,WY,AE,AA,AP".split(","),name:"Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware,District of Columbia,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky,Louisiana,Maine,Maryland,Massachusetts,Michigan,Minnesota,Mississippi,Missouri,Montana,Nebraska,Nevada,New Hampshire,New Jersey,New Mexico,New York,North Carolina,North Dakota,Ohio,Oklahoma,Oregon,Pennsylvania,Rhode Island,South Carolina,South Dakota,Tennessee,Texas,Utah,Vermont,Virginia,Washington,West Virginia,Wisconsin,Wyoming,Armed Forces Europe,Armed Forces Americas,Armed Forces Pacific".split(",")}},b=function(){return CN.reg.getForm();
};return{setForm:function(d){b=c(d);return this;},setState:function(){var e=c("#state",b),d=c("#zip",b),g=this.value.toLowerCase();if(!(g in a)){e.attr({disabled:"true"});d.attr({disabled:"true"}).data("val",d[0].value).val("");e[0][0].selected=true;CN.reg.removeReq("#zip, #state");}else{CN.reg.setReq("#zip, #state");d[0].value=(d.attr({disabled:""}).data("val")||d[0].value);var f=e.children("[selected]").val()||false;e.empty();e.attr("disabled","")[0][0]=new Option(a.msg+" "+a[g].desc,"");c.each(a[g].code,function(h){e[0][h+1]=new Option(a[g].name[h],this);
if(f&&f==this){e[0][h+1].selected=true;}});}}};})(jQuery);CN.Interface=function(c,b){var d,a;if(arguments.length!==2){throw new Error("CN.Interface constructor called with "+arguments.length+" arguments, but expected exactly 2");}this.name=c;this.methods=[];for(d=0,a=b.length;d<a;d++){if(typeof b[d]!=="string"){throw new Error("CN.Interface constructor expects method names to be passed in as strings");}this.methods.push(b[d]);}};CN.Interface.ensureImplements=function(d){var f,b,a,c,e,g;if(arguments.length<2){throw new Error("Static method CN.Interface.ensureImplements called with "+arguments.length+" arguments, but expected at least 2");
}for(f=1,b=arguments.length;f<b;f++){a=arguments[f];if(a.constructor!==CN.Interface){if(jQuery.browser.safari&&jQuery.browser.version<500){}else{throw new Error("Static method CN.Interface.ensureImplements expects arguments two and above to be instances of CN.Interface.");}}for(c=1,e=a.methods.length;c<e;c++){g=a.methods[c];if(!d[g]||typeof d[g]!=="function"){throw new Error("Static method CN.Interface.ensureImplements: object does not implement the "+a.name+" interface. Method "+g+" was not found.");
}}}};CN.Observer=function(a){this.fns=[];this.label=a||null;};CN.Observer.haveFired=[];CN.Observer.prototype={subscribe:function(a){this.fns.push(a);},unsubscribe:function(a){this.fns=this.fns.filter(function(b){if(b!==a){return b;}});},fire:function(c,b){var a=b||window;this.fns.forEach(function(d){d.call(a,c);});if(this.label&&CN.Observer.haveFired.indexOf(this.label)===-1){CN.Observer.haveFired.push(this.label);}}};CN.Timer=function(a,b){this.interval=a;this.timer=null;this.callbacks=[];this.multipliers=[];
this.tickCounts=[];this.canRun=[];this.stoppedThreads=0;this.shouldRunOnce=false;this.startedAt=-1;this.pausedAt=-1;this.addCallback(b);return this;};CN.Timer.prototype={preset:function(){this.stoppedThreads=0;this.startedAt=-1;this.pausedAt=-1;for(var b=0,a=this.callbacks.length;b<a;b++){this.canRun[b]=true;this.tickCounts[b]=0;}},ticks:function(c){var d=this,b,a;for(b=0,a=this.callbacks.length;b<a;b++){if(typeof this.callbacks[b]==="function"&&this.canRun[b]){this.tickCounts[b]++;if(this.tickCounts[b]===this.multipliers[b]){this.tickCounts[b]=0;
if(this.runOnce()){this.canRun[b]=false;this.stoppedThreads++;}window.setTimeout(d.callbacks[b],0);}}}if(this.runOnce()&&this.stoppedThreads===this.callbacks.length){this.stop();}if(typeof c==="number"){this.stop().start(null,true);}},runOnce:function(a){if(typeof a==="undefined"){return this.shouldRunOnce;}else{if(typeof a==="boolean"){this.shouldRunOnce=a;}else{CN.logger.getInstance().log.error("Invalid argument for runOnce");}}return this;},getSetInterval:function(a){if(typeof a==="undefined"){return this.interval;
}else{if(typeof a==="number"){this.interval=Math.floor(a);}}return this;},stop:function(a){if(this.timer){if(!a){this.pausedAt=-1;}try{window.clearInterval(this.timer);}catch(b){}this.timer=null;}return this;},isStopped:function(){return((this.timer===null)&&!this.isPaused());},start:function(a,b){var c,d=this;if(this.isPaused()){return this.resume();}if(!this.isStopped()){return this;}if(!b){this.preset();}c=this.interval;if(typeof a==="number"){c=a;}this.timer=window.setInterval(function(){d.ticks(a);
},c);this.startedAt=new Date().getTime();this.startedAt-=(this.interval-c);return this;},pause:function(){if(this.timer){this.pausedAt=new Date().getTime();this.stop(true);}return this;},isPaused:function(){return(this.pausedAt>=0);},resume:function(){if(this.isPaused()){var a=this.interval-((this.pausedAt-this.startedAt)%this.interval);this.pausedAt=-1;this.start(a,true);}return this;},restart:function(){return this.stop().start();},addCallback:function(b,a){if(typeof b==="function"){this.callbacks.push(b);
if(typeof a==="number"){a=Math.floor(a);this.multipliers.push(a<1?1:a);}else{this.multipliers.push(1);}this.tickCounts.push(0);this.canRun.push(true);}return this;},clearCallbacks:function(){this.callbacks.length=0;this.multipliers.length=0;this.canRun.length=0;this.tickCounts.length=0;this.stoppedThreads=0;return this;}};CN.dom=CN.dom||{};CN.dom.storage={activeClass:"active",inactiveClass:"inactive",innerTag:"span"};CN.dom.storage.activateElement=function(c,f,a){var d,b,e;a=a||this.activeClass;if(c.getElementsByTagName("a").length>0){if(jQuery.browser.msie||jQuery.browser.safari){d=jQuery(c.getElementsByTagName("a")[0]);
b=d.clone(true);f=jQuery(b).get()[0];d.remove();}else{f=c.removeChild(c.getElementsByTagName("a")[0]);}jQuery(c).addClass(a);e=document.createElement(this.innerTag);e.innerHTML=f.innerHTML;c.appendChild(e);return f;}};CN.dom.storage.deactivateElement=function(c,d,a){a=a||this.activeClass;if(c.getElementsByTagName(this.innerTag).length>0){var b=c.getElementsByTagName(this.innerTag);c.removeChild(b[0]);c.appendChild(d);jQuery(c).removeClass(a);}};CN.functionQueue=(function(){var q=[];return{addToQueue:function(f,a,qId){var temp={fName:f,args:a};
q.push(temp);},execute:function(qId){var l=q.length,i,tempF;for(i=0;i<l;i++){tempF=eval(q[i].fName);tempF.apply(tempF,q[i].args);}}};})();CN.IDoc=new CN.Interface("IDoc",["getId","getTitle","getKeywords","getDocType","hasComments","hasRatings"]);var MAGNET=CN;CN.dart=(function(v,n,s){var C=v(window),F={},E=false,q={ad:{},params:{},charmap:{},container:"_frame",dcopt:true,frameurl:"/ads/newad.html",embed:false,initialized:false,ready:false,ord:Math.floor(Math.random()*10000000000000),remote:"/services/dart/",retry:false,site:"",tiles:[],tile:0,transparency:true,url:location.protocol+"//ad.doubleclick.net/adj/",zone:""},A=/kw=/g,k="CN Ad ",z={"true":{gen:"Success",call:"Request Fired",embed:"Set to Embedded Mode.  Operating with degraded feature-set.",queue:"Request Added to Queue",plug:"Plugin Registered",valid:"Plugin Action Passed Validation",finished:"All Plugins Finished Running.",drawing:"All Ads Have Completed Drawing",drawn:"Ad Drawn"},"false":{gen:"Error",call:"Request Aborted",embed:"Set to Iframe Mode. Good job.",queue:"Request Faled To Be Added to Queue",plug:"Plugin Skipped",valid:"Plugin Action Failed Validation",finished:"Plugins Still Running",drawing:"Ads Still Drawing",drawn:"Ad Failed To Draw"}},u={mark:function(L){this[L]=(L==="start")?(new Date()).getTime():(new Date()).getTime()-this.start;
}},j=v("<iframe/>").attr({allowtransparency:q.transparency,frameBorder:0,scrolling:"no"}).css({border:"none",margin:0,padding:0}),p=function(L,M){return k+z[(M!==false).toString()][L||"gen"];},y=function(M,L){return q.url+q.site+"/"+(L||M.zone||q.zone)+"sz="+M.sz+";tile="+M.tile+";"+(M.tile===1&&q.dcopt===true?"dcopt=ist;":"")+(!L?f(M):"")+d(M)+"ord="+q.ord+"?";},d=function(M){var L=q.params,N="",O;for(O in L){if(L.hasOwnProperty(O)){N+=O+"=";N+=(L[O].refresh&&(M.kws.length!==q.ad.kws.length))?L[O].refresh(M):L[O].defaultValue;
}}return N;},a=function(M,O){var N=M+O.sz,L,P=F[N]={tile:q.tiles.push(N),el:v("#"+N+q.container),kws:c(q.ad.kws,h.kws(O.kws)||[]),store:O.store===false?false:q.ad.store,sz:O.sz,isDrawn:false,xkws:h.kws(O.kws)||[],zone:O.zone?h.adzone(O.zone):false,collapse:O.collapse===true};if(q.embed){t(N);}else{if(q.ready){if(!E){I();}}else{s.info(p("queue"),[N,P]);}}return this;},J=function(M,L){var N=F[M],O=N.sz.split("x");N.url=y(N,L);N.el.html(N.frame=j.clone().attr({id:M,name:M,height:N.collapse?1:O[1],width:O[0],src:N.url&&q.frameurl+"#"+encodeURIComponent(N.url)}).bind("load",{key:M,ad:N},function(P){if(P.data.ad.tile===1){C.trigger("CN.customEvents.dartAdDrawn",[M,"#"+M,N]);
}x(P);}));N.isDrawn=true;s.info(p("call"),[M,N]);return this;},I=function(O){var N=0,M=q.tiles,L=M.length;E=(L>0);for(;N<L;N++){if(F[M[N]].isDrawn===false){J(M[N]);if(N===0){break;}}if(N===L-1){E=false;u.mark("rendered");}}},D=function(L){if(q.initialized){s.warn(k+"Initialization called more than once.  This should only happen once per page.");return false;}h.charmap(L.charmap);q.initialized=true;q.site=L.site;q.zone=h.adzone(L.zone);q.ad={store:true,kws:h.kws(L.kws),tile:q.tile};G();H.run();q.embed=(L.embed||q.embed);
if(q.embed){s.info(p("embed",true),[]);}u.mark("init");s.info(k+"Initialized",[F]);C.bind("CN.customEvents.dartRequest",function(M){I(M);}).bind("CN.customEvents.dartAdDrawn",function(M){I(M);}).trigger("CN.customEvents.dartInitialized");},f=function(L){return"kw="+L.kws.join(";kw=")+";"+(L.xkws.length?"!c="+L.xkws.join(";!c=")+";":"");},x=function(O){var L=O.data.key,M=F[L];try{M.doc=M.frame.contents();}catch(N){s.user(O,[O.target,O.target.id]);}s.info(p("drawn"),[L,M]);o(O);},H={queue:[],register:function(L){if(!L||!L.init||L.isFinished===undefined||!L.callbacks){s.info(p("plug",false),[L?L.name:"",L||{}]);
return false;}this.queue.push(L);s.info(p("plug"),[L.name||"",L]);C.unbind("CN.customEvents.dartInitialized");return true;},run:function(){var N=0,M=this.queue.length,P=false,L,O;for(;N<M;N++){L=this.queue[N];s.info(k+"Running Plugin",[L.name]);L.init({queue:this.queue,position:N,plugin:L});}},finished:function(P,O,Q){var M=0,N=P.data,L=N.queue.length,R=N.validate(Q);s.info(p("valid",R),[O.name,Q]);for(;M<L;M++){if(N.queue[M].isFinished===false){s.info(p("finished",false),[O.name]);return false;}}s.info(p("finished",true));
e.call(n.dart);},validate:function(L){var N=true,M;for(M in L){if(L.hasOwnProperty(M)){N=(h[M]&&h[M](L[M])&&N);}}return N||false;}},e=function(L){q.ready=true;u.mark("ready");s.info(k+"Call State Set to Ready");C.trigger("CN.customEvents.dartRequest");return this;},K=function(P,O){if(q.embed){return this;}var R=P?P.toString().split(/,|\s+/):q.tiles,L=R.length,S=n.isObject(O),N=0,M,Q;q.ord=Math.floor(Math.random()*10000000000000);if(L===q.tiles.length){v('script[id*="prscr"], .prWrap').remove();}for(;
N<L;N++){Q=F[M=R[N]];if(Q&&Q.store){Q.el.height("").height(Q.el.height());Q.isDrawn=false;}}if(q.ready){C.trigger("CN.customEvents.dartRequest");}return this;},o=function(Q){var R=Q.data&&Q.data.key?F[Q.data.key].frame:v(Q.target),N=R.attr("name"),P=F[N],O=false,M,L;if(P.doc){M=P.doc.find("body");L=M.outerHeight();O=v(".textAd",M);}else{return this;}if(O.length){O.clone().appendTo(P.el);O.remove();}if(L===1){P.el.removeClass("ad-served").addClass("ad-not-served");}else{P.el.removeClass("ad-not-served").addClass("ad-served");
}R.css({width:P.el.width(),height:M.outerHeight()});P.el.height("");C.trigger("CN.customEvents.dartResize."+N,[N,"#"+N,P]);s.info("CN Ad Frame Resize",[N,R.css("height")+" x "+R.css("width")]);},m=function(P){var Q=n.dart.get("tiles")[P-1],N=F[Q],M,L;try{N.doc=N.frame.contents();}catch(O){s.warn("Failed to retrieve iframe content (err.descr.): "+O.description);}if(N.doc){M=N.doc.find("body");L=M.outerHeight();}else{return this;}if(L===1){N.el.removeClass("ad-served").addClass("ad-not-served");}else{N.el.removeClass("ad-not-served").addClass("ad-served");
}N.frame.css({width:N.el.width(),height:L});s.info("CN Ad Frame Recalculate Size",[Q,N.frame.css("height")+" x "+N.frame.css("width")]);},G=function(){var L;for(L in F){if(F.hasOwnProperty(L)){F[L].kws=c(q.ad.kws,F[L].kws);}}},h=(function(){var L=/([\?\+\\\^\$\*\.\(\)\[\]\|])/g,O=function(W){if(n.site.testads){return q.site;}var U=W.split("."),X=q.site.split("."),V=0,T=X.length>U.length?X.length:U.length,S=[];for(;V<T;V++){S[V]=(U[V]||X[V]);}return S.join(".");},N=/^https?:/,Q=/;$|$/,R=new RegExp(n.site.testads?"testads;$":"[\\w_;]+$"),M=function(T){var U,S=q.charmap;
if(R.test(T)){for(U in S){if(S.hasOwnProperty(U)){T=T.replace(new RegExp(U,"gi"),S[U]);}}return T.replace(Q,";");}s.warn("CN Dart zoneResolver",["Invalid Dart Zone",T]);return T;},P=function(T){var U,S=q.charmap;for(U in S){if(S.hasOwnProperty(U)){T=T.replace(new RegExp(U,"gi"),S[U]);}}return T;};return{ad:function(S){if(!S.kws){return false;}else{q.ad.kws=jQuery.isArray(S.kws)?c(S.kws):q.ad.kws;G();return true;}},addparam:function(T){var S={};if(!T&&!T.pKey){return false;}S.defaultValue=T.pValue;
S.refresh=T.refresh;q.params[T.pKey]=S;return true;},charmap:function(T){var U,S=q.charmap={};for(U in T){if(T.hasOwnProperty(U)){S[U.replace(L,"\\$1")]=T[U];}}return true;},dcopt:function(S){if(n.isBoolean(S)){q.dcopt=S;return true;}else{return false;}},embed:function(S){if(n.isBoolean(S)){q.embed=S;return true;}else{return false;}},site:function(S){q.site=O(S);return true;},url:function(S){if(n.isString(S)){q.url=S.replace(N,location.protocol);return true;}return false;},zone:function(T){var S=M(T);
if(S){q.zone=S;return true;}return false;},adzone:M,kws:function(U){var T=(U)?[].concat(U):[],V=0,S=T.length;for(;V<S;V++){T[V]=P(T[V]);}return T;}};}()),c=function(){var M,O=0,N=[].concat.apply([],arguments).sort(),L=N.length;for(;O<L;O++){M=N.shift();if(N[0]!==M){N.push(M);}}return w(N.join(",")).split(",");},w=function(L){return L.replace(/^,|\s*|,^/g,"");},g={init:function(N,L,M){if(!L||q.initialized){s.info(k+"Remote Init error.  No calls will be made.",["site : "+N]);return this;}q.frameurl=N+q.frameurl;
q.remoteSite=N;q.remoteInit=N+q.remote+"init/"+L+"/kw="+n.url.path().join(";kw=")+";"+M;l(q.remoteInit);}},t=function(M,L){var N=F[M];s.info(p("call"),[M,N]);N.frame=false;l(N.url=y(N,L));N.isDrawn=true;C.trigger("CN.customEvents.dartAdDrawn."+M,[M,"#"+M,N]);s.info(p("drawn"),[M,N]);return this;},l=function(L){document.write('<script type="text/javascript" src="http://www.wired.com/js/'+L+'"><\/script>');},B=function(L){I(L.data.key);},b=function(L){I(L.data.key,L.data.url);},r=function(L){I(L.data.key);};C.one("CN.customEvents.dartInitialized",e);
C.bind("CN.customEvents.dartPlugin",H,H.finished);u.mark("start");return{buildurl:y,calls:function(L){return v.extend({},(L===true?F:(n.isNumber(L)?F[q.tiles[L]]:F[L]||{})));},call:a,timer:u,clone:function(M,L){if(q.tiles.length){return a(L,{sz:M,kws:F[q.tiles[0]].kws});}return false;},refresh:K,get:function(O){O=[].concat(O);var N=0,L=O.length,M={},P;for(;N<L;N++){P=O[N];M[P]=(q[P]||q[P]===false?q[P]:undefined);}return L>1?M:M[P];},init:D,ondraw:q.embed?false:x,ready:e,recalSize:m,register:function(N){var M=0,L;
if(!N){return this;}N=[].concat(N);L=N.length;for(;M<L;M++){H.register(N[M]);}return this;},remote:g,test:h};}(jQuery,CN,CN.debug));CN.dart.ipad=(function(b){var a=".ipad",d=function(g){var f=0,e=c.callbacks.length;c.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[c,{site:CN.dart.get("site")+a}]);for(;f<e;f++){c.callbacks[f]["func"].apply((c.callbacks[f]["scope"]||null),(c.callbacks[f]["args"]||[]));}},c={init:b.indexOf("ipad")!==-1?d:false,name:"CN Ad User Agent Plugin",callbacks:[],isFinished:b.indexOf("ipad")===-1};
return c;}(navigator.userAgent.toLowerCase()));CN.dart.suppression=(function(){var b=CN.url.params(),a=false,d=function(g){var f=0,e=c.callbacks.length;c.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[c,a]);for(;f<e;f++){c.callbacks[f]["func"].apply((c.callbacks[f]["scope"]||null),(c.callbacks[f]["args"]||[]));}},c;if(b.npu==="1"||(b.mbid&&b.mbid.match(/yhoo|google[1-5]?$/))){a={dcopt:false};}c={init:a?d:false,name:"CN Ad Param-based Modifiers",callbacks:[],isFinished:!a};return c;
}());CN.dart.register([CN.dart.ipad,CN.dart.suppression]);if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!");}CN.ad=CN.ad||{};CN.ad.yieldex=(function(e,h,g){var a=294,l=function(r){var o=null,n=r.queue,p=n.length-1,q=function(){c.pValue=k();d({addparam:c});};for(;p>=0;p--){o=n[p];if(o!==f&&m(o)){g.info(f.name+" found dependency: "+o.name,["Pushing to callbacks array"]);if(!o.isFinished){return o.callbacks.push({func:q,args:null,scope:null});}}}q();},k=function(o){var n=h.get("ad").kws,q=(typeof o!=="undefined")?o.kws:n,p;
if(n.length!==q.length){p=q.join("|");}else{p=n.join("|");}g.info(f.name+" assembled",[{common:n,ad:q,value:p}]);return((p.length<=a)?p:b(p))+";";},c={pKey:"u",pValue:null,refresh:k},b=function(n){var o;g.info(f.name+" limit reached.  Truncating",[{limit:a,length:n.length,str:n}]);n=("trunc|"+n).substr(0,a-6);o=n.lastIndexOf("|");return n.substr(0,o);},m=function(n){var p=0,o=n.modifies,q=f.requires,r=null;if(o&&o.length&&q&&q.length){for(;p<q.length;p++){r=q[p];if(o.indexOf(r)!==-1){return true;
}}}return false;},d=function(o){var p=0,n=f.callbacks.length;f.isFinished=true;e(window).trigger("CN.customEvents.dartPlugin",[f,o]);for(;p<n;p++){f.callbacks[p]["func"].apply((f.callbacks[p]["scope"]||null),(f.callbacks[p]["args"]||[]));}},f={init:l,name:"CN Ad Yieldex",modifies:["common.params"],requires:["keywords"],callbacks:[],isFinished:false},j=function(){h.register(f);};j(f);return{param:c};}(jQuery,CN.dart,CN.debug));if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!");
}CN.ad=CN.ad||{};CN.ad.lotame=(function(f,s,r){var m=false,n=location.protocol||"http:",k=800,e="|",l=CN.site.name||location.hostname.split(".").splice(-2)[0],p={allure:293,architecturaldigest:294,bonappetit:295,brides:296,concierge:297,details:298,"epicurious.com":299,glamour:300,golfdigest:301,gourmet:973,gq:302,luckymag:303,newyorker:304,nutritiondata:306,self:306,style:307,teenvogue:308,vanityfair:309,vogue:310,wmagazine:311,wired:312,hotwired:312,webmonkey:318,wwd:1390},a=p[l]?p[l]:false,g=[n+"//ad.crwdcntrl.net/4/pe=y","c=244","var=CN.ad.lotame.tags","out=json"].join(e),c=a?[n+"//tags.crwdcntrl.net/c/","/cc.js"].join(a):false,h=function(){f.ajax({url:g,dataType:"script",timeout:k,error:function(u,v){j(false);
r.info(d.name+" plugin disabled",["script "+v,"using site code "+a]);},cache:true,success:function(u){m=true;o();},complete:function(){r.info(d.name+" cc call complete");}});return true;},t=function(){var u;if(!a){return false;}if(typeof LOTCC==="undefined"){LOTCC={asyncBehaviors:{},async:true};}u=document.createElement("script");u.src=c;f(function(){f("head",document)[0].appendChild(u);});return true;},q=function(u){h();setTimeout(function(){if(!d.isFinished&&!m){o();}},5000);},j=function(v){var w=0,u=d.callbacks.length;
d.isFinished=true;f(window).trigger("CN.customEvents.dartPlugin",[d,v]);for(;w<u;w++){d.callbacks[w]["func"].apply((d.callbacks[w]["scope"]||null),(d.callbacks[w]["args"]||[]));}},o=function(){var x=0,u,y,w=[],v=CN.ad.lotame.tags;if(!v){r.warn("Lotame Request Timed Out",["Setting plugin to finished to procceed to render ads"]);return j(false);}if(v.Profile){y=v.Profile.Audiences.Audience;u=y.length;for(;x<u;x++){w.push(y[x].abbr);}}j({ad:{kws:s.get("ad").kws.concat(w)}});},d={init:q,name:"CN Ad Lotame Audience kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:false},b=function(){s.register(d);
};if(!a){r.error(d.name+" missing code for this site.  Verify the site is in the list.",[p]);return false;}b();t();return{tags:false};}(jQuery,CN.dart,CN.debug));