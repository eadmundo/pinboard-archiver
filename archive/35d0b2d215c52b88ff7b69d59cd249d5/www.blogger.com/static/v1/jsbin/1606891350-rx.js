/* Copyright 2007-8 Google. */ (function() { function h(a){throw a;}
var j=void 0,l=!0,m=null,n=!1,r="",aa="\n",t=" ",ba='"',ca='", ',da='","groups":["reactions"]},"labels":[',ea='","groups":["reactions"]},{"url": "',fa='"}],"applicationId":34}',ga="$$$$",ha="(",ia="(\\d*)(\\D*)",ja=")",ka="*",la=".",na="0",oa=": ",pa="@",qa="Assertion failed",ra="Content-Type",sa="GET",ta="MSXML2.XMLHTTP",ua="MSXML2.XMLHTTP.3.0",va="MSXML2.XMLHTTP.6.0",wa="Microsoft.XMLHTTP",xa="POST",ya="[object Array]",za="[object Function]",Aa="[object Window]",Ba="]",Ca=']}],"applicationId":34}&token=',
Da="_",Ea="a",Fa="abort",Ga="application/x-www-form-urlencoded;charset=utf-8",v="array",Ha="call",Ia="click",Ja="complete",Ka="error",La="event",w="function",Ma="g",Na="http://www.blogger.com/reviews/json/aggregates",Oa="http://www.blogger.com/reviews/json/token",Pa="http://www.blogger.com/reviews/json/write",Qa="innerText",Ra="keypress",Sa="mouseout",Ta="mouseover",Ua="native code",Va="null",Wa="number",Xa="object",Ya="on",Za="ready",$a="readystatechange",ab='req={"annotations": [ {"replaceAllLabels":true,"entity": {"url": "',
bb='req={"applicationId":34}',cb='req={"entities":[{"url": "',db="rx-checked",eb="rx-count",fb="rx-holder",gb="rx-label",hb="rx-option",ib="rx-unchecked",jb="span",kb="splice",lb="string",mb="success",nb="timeout",ob="var ",pb="window",qb="withCredentials",x,rb=rb||{},y=this,sb=function(a,b,c){a=a.split(la);c=c||y;!(a[0]in c)&&c.execScript&&c.execScript(ob+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&b!==j?c[d]=b:c=c[d]?c[d]:c[d]={}},tb=function(){},z=function(a){var b=typeof a;if(b==Xa)if(a){if(a instanceof
Array)return v;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Aa)return Xa;if(c==ya||typeof a.length==Wa&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(kb))return v;if(c==za||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(Ha))return w}else return Va;else if(b==w&&"undefined"==typeof a.call)return Xa;return b},A=function(a){var b=z(a);return b==v||b==Xa&&typeof a.length==
Wa},B=function(a){return typeof a==lb},C=function(a){return a[ub]||(a[ub]=++vb)},ub="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),vb=0,wb=function(a,b,c){return a.call.apply(a.bind,arguments)},xb=function(a,b,c){a||h(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},D=function(a,b,c){D=Function.prototype.bind&&
-1!=Function.prototype.bind.toString().indexOf(Ua)?wb:xb;return D.apply(m,arguments)},yb=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},F=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return D.apply(m,c)}return D(this,a)};Function.prototype.partial=function(a){var b=Array.prototype.slice.call(arguments);b.unshift(this,m);return D.apply(m,b)};var zb=function(a){Error.captureStackTrace?Error.captureStackTrace(this,zb):this.stack=Error().stack||r;a&&(this.message=String(a))};F(zb,Error);var Ab=function(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,ga);a=a.replace(/\%s/,d)}return a};var Bb=function(a,b){b.unshift(a);zb.call(this,Ab.apply(m,b));b.shift()};F(Bb,zb);var G=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),f=qa;if(b)var f=f+(oa+b),e=d;h(new Bb(r+f,e||[]))}return a};var H=Array.prototype,I=H.indexOf?function(a,b,c){G(a.length!=m);return H.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(B(a))return!B(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Cb=H.forEach?function(a,b,c){G(a.length!=m);H.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=B(a)?a.split(r):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Db=H.filter?function(a,b,c){G(a.length!=m);return H.filter.call(a,b,c)}:function(a,
b,c){for(var d=a.length,f=[],e=0,g=B(a)?a.split(r):a,k=0;k<d;k++)if(k in g){var p=g[k];b.call(c,p,k,a)&&(f[e++]=p)}return f},Eb=function(a,b){var c=I(a,b),d;if(d=0<=c)G(a.length!=m),H.splice.call(a,c,1);return d},Fb=function(a,b,c){G(a.length!=m);return 2>=arguments.length?H.slice.call(a,b):H.slice.call(a,b,c)};var Gb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Hb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Jb=function(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<Ib.length;e++)c=Ib[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var J,Kb,Lb,Mb,Nb=function(){return y.navigator?y.navigator.userAgent:m};Mb=Lb=Kb=J=n;var Ob;if(Ob=Nb()){var Pb=y.navigator;J=0==Ob.indexOf("Opera");Kb=!J&&-1!=Ob.indexOf("MSIE");Lb=!J&&-1!=Ob.indexOf("WebKit");Mb=!J&&!Lb&&"Gecko"==Pb.product}var Qb=J,K=Kb,L=Mb,M=Lb,Rb=function(){var a=y.document;return a?a.documentMode:j},Sb;
a:{var Tb=r,N;if(Qb&&y.opera)var Ub=y.opera.version,Tb=typeof Ub==w?Ub():Ub;else if(L?N=/rv\:([^\);]+)(\)|;)/:K?N=/MSIE\s+([^\);]+)(\)|;)/:M&&(N=/WebKit\/(\S+)/),N)var Vb=N.exec(Nb()),Tb=Vb?Vb[1]:r;if(K){var Wb=Rb();if(Wb>parseFloat(Tb)){Sb=String(Wb);break a}}Sb=Tb}
var Xb=Sb,Yb={},O=function(a){var b;if(!(b=Yb[a])){b=0;for(var c=String(Xb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,r).split(la),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,r).split(la),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||r,k=d[e]||r,p=RegExp(ia,Ma),s=RegExp(ia,Ma);do{var u=p.exec(g)||[r,r,r],q=s.exec(k)||[r,r,r];if(0==u[0].length&&0==q[0].length)break;b=((0==u[1].length?0:parseInt(u[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==u[1].length?0:parseInt(u[1],10))>(0==q[1].length?
0:parseInt(q[1],10))?1:0)||((0==u[2].length)<(0==q[2].length)?-1:(0==u[2].length)>(0==q[2].length)?1:0)||(u[2]<q[2]?-1:u[2]>q[2]?1:0)}while(0==b)}b=Yb[a]=0<=b}return b},Zb=y.document,$b=!Zb||!K?j:Rb()||("CSS1Compat"==Zb.compatMode?parseInt(Xb,10):5);var ac=function(a){ac[t](a);return a};ac[t]=tb;var bc=!K||K&&9<=$b,cc=K&&!O("9");!M||O("528");L&&O("1.9b")||K&&O("8")||Qb&&O("9.5")||M&&O("528");L&&!O("8")||K&&O("9");var dc=function(){};dc.prototype.disposed_=n;dc.prototype.dispose=function(){this.disposed_||(this.disposed_=l,this.disposeInternal())};dc.prototype.disposeInternal=function(){this.dependentDisposables_&&ec.apply(m,this.dependentDisposables_);if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var ec=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];A(d)?ec.apply(m,d):d&&typeof d.dispose==w&&d.dispose()}};var P=function(a,b){this.type=a;this.currentTarget=this.target=b};x=P.prototype;x.disposeInternal=function(){};x.dispose=function(){};x.propagationStopped_=n;x.defaultPrevented=n;x.returnValue_=l;x.preventDefault=function(){this.defaultPrevented=l;this.returnValue_=n};var Q=function(a,b){a&&this.init(a,b)};F(Q,P);x=Q.prototype;x.target=m;x.relatedTarget=m;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=n;x.altKey=n;x.shiftKey=n;x.metaKey=n;x.event_=m;
x.init=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(L){var f;a:{try{ac(d.nodeName);f=l;break a}catch(e){}f=n}f||(d=m)}}else c==Ta?d=a.fromElement:c==Sa&&(d=a.toElement);this.relatedTarget=d;this.offsetX=M||a.offsetX!==j?a.offsetX:a.layerX;this.offsetY=M||a.offsetY!==j?a.offsetY:a.layerY;this.clientX=a.clientX!==j?a.clientX:a.pageX;this.clientY=a.clientY!==j?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==Ra?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault();delete this.propagationStopped_};
x.preventDefault=function(){Q.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,cc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};x.disposeInternal=function(){};var fc=function(){},gc=0;x=fc.prototype;x.key=0;x.removed=n;x.callOnce=n;x.init=function(a,b,c,d,f,e){z(a)==w?this.isFunctionListener_=l:a&&a.handleEvent&&z(a.handleEvent)==w?this.isFunctionListener_=n:h(Error("Invalid listener argument"));this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.handler=e;this.callOnce=n;this.key=++gc;this.removed=n};
x.handleEvent=function(a){return this.isFunctionListener_?this.listener.call(this.handler||this.src,a):this.listener.handleEvent.call(this.listener,a)};var R={},S={},T={},U={},V=function(a,b,c,d,f){if(b){if(z(b)==v){for(var e=0;e<b.length;e++)V(a,b[e],c,d,f);return m}d=!!d;var g=S;b in g||(g[b]={count_:0,remaining_:0});g=g[b];d in g||(g[d]={count_:0,remaining_:0},g.count_++);var g=g[d],k=C(a),p;g.remaining_++;if(g[k]){p=g[k];for(e=0;e<p.length;e++)if(g=p[e],g.listener==c&&g.handler==f){if(g.removed)break;return p[e].key}}else p=g[k]=[],g.count_++;var s=hc,u=bc?function(a){return s.call(u.src,u.key,a)}:function(a){a=s.call(u.src,u.key,a);if(!a)return a},
e=u;e.src=a;g=new fc;g.init(c,e,a,b,d,f);c=g.key;e.key=c;p.push(g);R[c]=g;T[k]||(T[k]=[]);T[k].push(g);a.addEventListener?(a==y||!a.customEvent_)&&a.addEventListener(b,e,d):a.attachEvent(b in U?U[b]:U[b]=Ya+b,e);return c}h(Error("Invalid event type"))},ic=function(a,b,c,d,f){if(z(b)==v){for(var e=0;e<b.length;e++)ic(a,b[e],c,d,f);return m}a=V(a,b,c,d,f);R[a].callOnce=l;return a},jc=function(a,b,c,d,f){if(z(b)==v){for(var e=0;e<b.length;e++)jc(a,b[e],c,d,f);return m}d=!!d;a:{e=S;if(b in e&&(e=e[b],
d in e&&(e=e[d],a=C(a),e[a]))){a=e[a];break a}a=m}if(!a)return n;for(e=0;e<a.length;e++)if(a[e].listener==c&&a[e].capture==d&&a[e].handler==f)return kc(a[e].key);return n},kc=function(a){if(!R[a])return n;var b=R[a];if(b.removed)return n;var c=b.src,d=b.type,f=b.proxy,e=b.capture;c.removeEventListener?(c==y||!c.customEvent_)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in U?U[d]:U[d]=Ya+d,f);c=C(c);T[c]&&(f=T[c],Eb(f,b),0==f.length&&delete T[c]);b.removed=l;if(b=S[d][e][c])b.needsCleanup_=
l,lc(d,e,c,b);delete R[a];return l},lc=function(a,b,c,d){if(!d.locked_&&d.needsCleanup_){for(var f=0,e=0;f<d.length;f++)d[f].removed?d[f].proxy.src=m:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.needsCleanup_=n;0==e&&(delete S[a][b][c],S[a][b].count_--,0==S[a][b].count_&&(delete S[a][b],S[a].count_--),0==S[a].count_&&delete S[a])}},mc=function(a,b,c){var d=0,f=b==m,e=c==m;c=!!c;if(a==m){a=function(a){for(var g=a.length-1;0<=g;g--){var k=a[g];if((f||b==k.type)&&(e||c==k.capture))kc(k.key),d++}};for(var g in T)a.call(j,
T[g],g,T)}else if(g=C(a),T[g]){g=T[g];for(a=g.length-1;0<=a;a--){var k=g[a];if((f||b==k.type)&&(e||c==k.capture))kc(k.key),d++}}return d},W=function(a,b,c,d,f){var e=1;b=C(b);if(a[b]){a.remaining_--;a=a[b];a.locked_?a.locked_++:a.locked_=1;try{for(var g=a.length,k=0;k<g;k++){var p=a[k];p&&!p.removed&&(e&=nc(p,f)!==n)}}finally{a.locked_--,lc(c,d,b,a)}}return Boolean(e)},nc=function(a,b){a.callOnce&&kc(a.key);return a.handleEvent(b)},hc=function(a,b){if(!R[a])return l;var c=R[a],d=c.type,f=S;if(!(d in
f))return l;var f=f[d],e,g;if(!bc){var k;if(!(k=b))a:{k=[pb,La];for(var p=y;e=k.shift();)if(p[e]!=m)p=p[e];else{k=m;break a}k=p}e=k;k=l in f;p=n in f;if(k){if(0>e.keyCode||e.returnValue!=j)return l;a:{var s=n;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(u){s=l}if(s||e.returnValue==j)e.returnValue=l}}s=new Q;s.init(e,this);e=l;try{if(k){for(var q=[],ma=s.currentTarget;ma;ma=ma.parentNode)q.push(ma);g=f[l];g.remaining_=g.count_;for(var E=q.length-1;!s.propagationStopped_&&0<=E&&g.remaining_;E--)s.currentTarget=
q[E],e&=W(g,q[E],d,l,s);if(p){g=f[n];g.remaining_=g.count_;for(E=0;!s.propagationStopped_&&E<q.length&&g.remaining_;E++)s.currentTarget=q[E],e&=W(g,q[E],d,n,s)}}else e=nc(c,s)}finally{q&&(q.length=0)}return e}d=new Q(b,this);return e=nc(c,d)};var oc=function(){};F(oc,dc);x=oc.prototype;x.customEvent_=l;x.parentEventTarget_=m;x.addEventListener=function(a,b,c,d){V(this,a,b,c,d)};x.removeEventListener=function(a,b,c,d){jc(this,a,b,c,d)};
x.dispatchEvent=function(a){var b=a.type||a,c=S;if(b in c){if(B(a))a=new P(a,this);else if(a instanceof P)a.target=a.target||this;else{var d=a;a=new P(b,this);Jb(a,d)}var d=1,f,c=c[b],b=l in c,e;if(b){f=[];for(e=this;e;e=e.parentEventTarget_)f.push(e);e=c[l];e.remaining_=e.count_;for(var g=f.length-1;!a.propagationStopped_&&0<=g&&e.remaining_;g--)a.currentTarget=f[g],d&=W(e,f[g],a.type,l,a)&&a.returnValue_!=n}if(n in c)if(e=c[n],e.remaining_=e.count_,b)for(g=0;!a.propagationStopped_&&g<f.length&&
e.remaining_;g++)a.currentTarget=f[g],d&=W(e,f[g],a.type,n,a)&&a.returnValue_!=n;else for(f=this;!a.propagationStopped_&&f&&e.remaining_;f=f.parentEventTarget_)a.currentTarget=f,d&=W(e,f,a.type,n,a)&&a.returnValue_!=n;a=Boolean(d)}else a=l;return a};x.disposeInternal=function(){oc.superClass_.disposeInternal.call(this);mc(this);this.parentEventTarget_=m};var pc=function(a,b){b.preventDefault();a(b);return n};var qc=function(a){a=a.className;return B(a)&&a.match(/\S+/g)||[]},rc=function(a,b){for(var c=qc(a),d=Fb(arguments,1),f=c.length+d.length,e=c,g=0;g<d.length;g++)0<=I(e,d[g])||e.push(d[g]);a.className=c.join(t);return c.length==f},sc=function(a,b){var c=qc(a),d=Fb(arguments,1),f,e=d;f=Db(c,function(a){return!(0<=I(e,a))});a.className=f.join(t);return f.length==c.length-d.length},tc=function(a,b){var c=qc(a);(c=!(0<=I(c,b)))?rc(a,b):sc(a,b);return c};!L&&!K||K&&K&&9<=$b||L&&O("1.9.1");var uc=K&&!O("9");var vc=function(a,b,c,d){a=d||a;b=b&&b!=ka?b.toUpperCase():r;if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?la+c:r));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var f=0,e=0,g;g=a[e];e++)b==g.nodeName&&(d[f++]=g);d.length=f;return d}return a}a=a.getElementsByTagName(b||ka);if(c){d={};for(e=f=0;g=a[e];e++)b=g.className,typeof b.split==w&&0<=I(b.split(/\s+/),c)&&(d[f++]=g);d.length=f;return d}return a},wc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,
OBJECT:1},xc={IMG:t,BR:aa},zc=function(a){if(uc&&Qa in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,aa);else{var b=[];yc(a,b,l);a=b.join(r)}a=a.replace(/ \xAD /g,t).replace(/\xAD/g,r);a=a.replace(/\u200B/g,r);uc||(a=a.replace(/ +/g,t));a!=t&&(a=a.replace(/^\s*/,r));return a},yc=function(a,b,c){if(!(a.nodeName in wc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,r)):b.push(a.nodeValue);else if(a.nodeName in xc)b.push(xc[a.nodeName]);else for(a=a.firstChild;a;)yc(a,b,c),a=a.nextSibling};var X="StopIteration"in y?y.StopIteration:Error("StopIteration"),Y=function(){};Y.prototype.next=function(){h(X)};Y.prototype.__iterator__=function(){return this};var Ac=function(a){if(a instanceof Y)return a;if(typeof a.__iterator__==w)return a.__iterator__(n);if(A(a)){var b=0,c=new Y;c.next=function(){for(;;){b>=a.length&&h(X);if(b in a)return a[b++];b++}};return c}h(Error("Not implemented"))};var Bc=function(a){if(typeof a.getValues==w)return a.getValues();if(B(a))return a.split(r);if(A(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Gb(a)},Cc=function(a,b,c){if(typeof a.forEach==w)a.forEach(b,c);else if(A(a)||B(a))Cb(a,b,c);else{var d;if(typeof a.getKeys==w)d=a.getKeys();else if(typeof a.getValues!=w)if(A(a)||B(a)){d=[];for(var f=a.length,e=0;e<f;e++)d.push(e)}else d=Hb(a);else d=j;for(var f=Bc(a),e=f.length,g=0;g<e;g++)b.call(c,f[g],d&&d[g],a)}};var Z=function(a,b){this.map_={};this.keys_=[];var c=arguments.length;if(1<c){c%2&&h(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};x=Z.prototype;x.count_=0;x.version_=0;x.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};x.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};x.containsKey=function(a){return $(this.map_,a)};
x.remove=function(a){return $(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),l):n};x.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];$(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],$(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};
x.get=function(a,b){return $(this.map_,a)?this.map_[a]:b};x.set=function(a,b){$(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};x.addAll=function(a){var b;a instanceof Z?(b=a.getKeys(),a=a.getValues()):(b=Hb(a),a=Gb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};x.clone=function(){return new Z(this)};x.getKeyIterator=function(){return this.__iterator__(l)};
x.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,d=this.map_,f=this.version_,e=this,g=new Y;g.next=function(){for(;;){f!=e.version_&&h(Error("The map has changed since the iterator was created"));b>=c.length&&h(X);var g=c[b++];return a?g:d[g]}};return g};var $=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Dc=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,pa).replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ba).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,r)))try{return eval(ha+a+ja)}catch(b){}h(Error("Invalid JSON string: "+a))};var Ec=y.window;var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Gc=M,Hc=function(a,b){if(Gc){Gc=n;var c=y.location;if(c){var d=c.href;if(d&&(d=(d=Hc(3,d))&&decodeURIComponent(d))&&d!=c.hostname)Gc=l,h(Error())}}return b.match(Fc)[a]||m};var Ic=function(){};Ic.prototype.cachedOptions_=m;Ic.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var Jc,Kc=function(){};F(Kc,Ic);Kc.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};Kc.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=l,a[1]=l);return a};Kc.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[va,ua,ta,wa],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}h(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return this.ieProgId_};
Jc=new Kc;var Lc=function(a){this.headers=new Z;this.xmlHttpFactory_=a||m};F(Lc,oc);var Mc=/^https?$/i,Nc=[],Pc=function(a,b,c,d,f,e,g){var k=new Lc;Nc.push(k);b&&V(k,Ja,b);V(k,Za,yb(Oc,k));e&&k.setTimeoutInterval(e);g&&k.setWithCredentials(g);k.send(a,c,d,f)},Oc=function(a){a.dispose();Eb(Nc,a)};x=Lc.prototype;x.active_=n;x.xhr_=m;x.xhrOptions_=m;x.lastUri_=r;x.errorDispatched_=n;x.inSend_=n;x.inOpen_=n;x.inAbort_=n;x.timeoutInterval_=0;x.timeoutId_=m;x.responseType_=r;x.withCredentials_=n;
x.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};x.setWithCredentials=function(a){this.withCredentials_=a};
x.send=function(a,b,c,d){this.xhr_&&h(Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a));b=b?b.toUpperCase():sa;this.lastUri_=a;this.errorDispatched_=n;this.active_=l;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():Jc.getOptions();this.xhr_.onreadystatechange=D(this.onReadyStateChange_,this);try{this.inOpen_=l,this.xhr_.open(b,a,l),this.inOpen_=n}catch(f){this.error_(5,f);return}a=c||r;var e=this.headers.clone();
d&&Cc(d,function(a,b){e.set(b,a)});d=y.FormData&&a instanceof y.FormData;b==xa&&(!e.containsKey(ra)&&!d)&&e.set(ra,Ga);Cc(e,function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);qb in this.xhr_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(Ec.clearTimeout(this.timeoutId_),this.timeoutId_=m),0<this.timeoutInterval_&&(this.timeoutId_=Ec.setTimeout(D(this.timeout_,this),this.timeoutInterval_)),this.inSend_=l,this.xhr_.send(a),
this.inSend_=n}catch(g){this.error_(5,g)}};x.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():Jc.createInstance()};x.timeout_=function(){"undefined"!=typeof rb&&this.xhr_&&(this.dispatchEvent(nb),this.abort(8))};x.error_=function(){this.active_=n;this.xhr_&&(this.inAbort_=l,this.xhr_.abort(),this.inAbort_=n);this.dispatchErrors_();this.cleanUpXhr_()};x.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=l,this.dispatchEvent(Ja),this.dispatchEvent(Ka))};
x.abort=function(){this.xhr_&&this.active_&&(this.active_=n,this.inAbort_=l,this.xhr_.abort(),this.inAbort_=n,this.dispatchEvent(Ja),this.dispatchEvent(Fa),this.cleanUpXhr_())};x.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=n,this.inAbort_=l,this.xhr_.abort(),this.inAbort_=n),this.cleanUpXhr_(l));Lc.superClass_.disposeInternal.call(this)};x.onReadyStateChange_=function(){if(!this.inOpen_&&!this.inSend_&&!this.inAbort_)this.onReadyStateChangeEntryPoint_();else this.onReadyStateChangeHelper_()};
x.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};x.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof rb&&(!this.xhrOptions_[1]||!(4==this.getReadyState()&&2==this.getStatus())))if(this.inSend_&&4==this.getReadyState())Ec.setTimeout(D(this.onReadyStateChange_,this),0);else if(this.dispatchEvent($a),this.isComplete()){this.active_=n;try{this.isSuccess()?(this.dispatchEvent(Ja),this.dispatchEvent(mb)):this.dispatchErrors_()}finally{this.cleanUpXhr_()}}};
x.cleanUpXhr_=function(a){if(this.xhr_){var b=this.xhr_,c=this.xhrOptions_[0]?tb:m;this.xhrOptions_=this.xhr_=m;this.timeoutId_&&(Ec.clearTimeout(this.timeoutId_),this.timeoutId_=m);a||this.dispatchEvent(Za);try{b.onreadystatechange=c}catch(d){}}};x.isComplete=function(){return 4==this.getReadyState()};x.isSuccess=function(){var a=this.getStatus(),b;a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=l;break a;default:b=n}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
x.isLastUriEffectiveSchemeHttp_=function(){var a=Hc(1,String(this.lastUri_));!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return Mc.test(a?a.toLowerCase():r)};x.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};x.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};x.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Dc(b)}};var Qc=function(a,b){this.entityId_=encodeURIComponent(a);b?this.sender_=b:(this.sender_=Lc,this.sender_.send=Pc);this.writeToken_=r;this.options_={};this.counts_={};this.decodeLabel_={};this.selectedReactions_=new Z};x=Qc.prototype;
x.initialize=function(a){a=vc(document,Ea,hb,document.getElementById(a));for(var b=0;b<a.length;b++){var c=a[b],d=vc(document,jb,gb,c)[0],d=zc(d);this.options_[d]=c;var f=this.encodeLabel_(d);this.decodeLabel_[f]=d;var f=c,e=D(this.toggle,this,d);V(f,Ia,pc.partial(e));c=vc(document,jb,eb,c)[0];this.counts_[d]=c;c.innerHTML=na}a=D(this.displayRetrievedAnnotations_,this);b=D(this.disableOptions_,this);this.loadExistingReactions_(a,b)};x.setZipitToken_=function(a){this.writeToken_=a};
x.loadZipitToken_=function(a){var b=D(this.disableOptions_,this),c=D(this.setZipitToken_,this),d=D(this.toggle,this);this.sender_.send(Oa,function(){if(this.isSuccess()){var f=this.getResponseJson();c(f.channelHeader.token);a&&d(a)}else b()},xa,bb)};x.loadExistingReactions_=function(a,b){this.sender_.send(Na,function(){this.isSuccess()?a(this.getResponseJson()):b()},xa,cb+this.entityId_+ea+this.entityId_+fa)};
x.displayRetrievedAnnotations_=function(a){if(a.entityAggregates)for(var b=0;b<a.entityAggregates.length;b++){var c=n;if(c=a.entityAggregates[b].labels)for(var d=0;d<c.length;d++){var f=this.counts_[this.decodeLabel_[c[d].label]];if(f){var e=parseInt(zc(f),10);isNaN(e)&&(e=0);f.innerHTML=e+parseInt(c[d].count,10)}}}};x.encodeLabel_=function(a){a=a.replace(/([^A-Za-z ])/g,function(a){return Da+a.charCodeAt(0)});return a=a.replace(/([A-Z])/g,function(a){return Da+a.toLowerCase()})};
x.disableOptions_=function(){for(var a=vc(document,Ea,hb,document.getElementById(fb)),b=0;b<a.length;b++){var c=a[b];c.style.borderColor=m;mc(c)}};
x.toggle=function(a){if(this.writeToken_==r)this.loadZipitToken_(a);else{if(this.selectedReactions_.get(a)){var b=n;this.selectedReactions_.remove(a)}else b=l,this.selectedReactions_.set(a,l);var c=r,d=this.selectedReactions_.getKeyIterator(),f=function(a){c=c+ba+this.encodeLabel_(a)+ca};if(A(d))try{Cb(d,f,this)}catch(e){e!==X&&h(e)}else{d=Ac(d);try{for(;;)f.call(this,d.next(),j,d)}catch(g){g!==X&&h(g)}}this.sender_.send(Pa,tb,xa,ab+this.entityId_+da+c+Ca+this.writeToken_);if(d=this.options_[a])a=
this.counts_[a],f=parseInt(zc(a),10),isNaN(f)&&(f=0),a.innerHTML=b?f+1:f-1,tc(d,db),tc(d,ib)}};sb("BLOG_Annotator",Qc,j);Qc.prototype.initialize=Qc.prototype.initialize;sb("BLOG_listenOnce",ic,j); })()
